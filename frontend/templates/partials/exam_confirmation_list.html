<div class="exam-list grid-view">
    {% if queued_exams %}
        {% for reg in queued_exams %}
            <div class="exam-card"
                data-campus="{{ reg.exam.location }}"
                data-date="{{ reg.exam.exam_date|date:'Y-m-d' }}"
                data-subject="{{ reg.exam.exam_subject }}"
                data-full="{% if reg.exam.max_seats and reg.exam.enrollments.count >= reg.exam.max_seats %}true{% else %}false{% endif %}">

                <div class="exam-header">
                    <span class="exam-title">{{ reg.exam.exam_subject }} {{ reg.exam.exam_number }}</span>
                    <span class="capacity">
                        {% if reg.exam.enrollments.filter(status='confirmed').count >= reg.exam.max_seats %}
                            <span class="full-label">Full</span>
                        {% else %}
                            {{ reg.exam.enrollments.filter(status='confirmed').count }} / {{ reg.exam.max_seats }}
                        {% endif %}
                    </span>
                </div>

                <!-- Meta Info Section -->
                <div class="exam-meta">
                    <div>Date: {{ reg.exam.exam_date }}</div>
                    <div>Time: {{ reg.exam.exam_time }}</div>
                    <div>Location: {{ reg.exam.location }} ({{ reg.exam.building }}, Room: {{ reg.exam.room_number }})</div>
                </div>

                <!-- Action Buttons -->
                <div style="margin-top: 1rem;">
                    <button class="select-btn"
                            onclick="confirmEnrollment(this)"
                            data-exam-id="{{ reg.exam.id }}">
                        Confirm
                    </button>

                    <button class="cancel-btn"
                            onclick="cancelExam(this)"
                            data-exam-id="{{ reg.exam.id }}">
                        Cancel
                    </button>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>No exams waiting for confirmation.</p>
    {% endif %}
</div>


